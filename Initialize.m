% A11=[0,1;-1,2]; A22=A11;
% A12=[0.1,0.1;0,0.3]; A21=-A12;
% A=[A11,A12;A21,A22];
% B1=[0;1]; B2=B1;  % xi(k+1)=Aiixi(k)+Biui(k)+Aijxj(k);
% 
% ub1=2.5; ub2=4;
% Q1=diag([0.4593,0.4593]); Q2=Q1;
% P1=diag([1,3]); P2=P1;  % 成本函数中的矩阵
% 
% K1=[1,-2]; K2=K1;  % 反馈控制的增益矩阵
% ----------------换成cell写法--------------------

Ns=2;  % 子系统的数量
A=cell(Ns,Ns);
A{1,1}=[0,1;-1,2]; A{2,2}=A{1,1};
A{1,2}=[0.1,0.1;0,0.3]; A{2,1}=-A{1,2};
B=cell(1,Ns);
B{1,1}=[0;1]; B{1,2}=B{1,1};  % xi(k+1)=Aiixi(k)+Biui(k)+Aijxj(k);

ub=cell(1,Ns);
ub{1,1}=[-2.5,2.5]; ub{1,2}=[-4,4];
Z=cell(1,Ns);
Z{1,1}=[-0.6,0.6;-0.25,0.25];
Z{1,2}=[-0.6,0.6;-0.25,0.25];
E=cell(1,Ns);
E{1,1}=[-1.8,1.8;-0.2,0.2];
E{1,2}=[-1.8,1.8;-0.2,0.2];
W=cell(1,Ns);
W{1,1}=[-0.2,0.2;-0.2,0.2];
W{1,2}=[-0.2,0.2;-0.2,0.2];

Q=cell(1,Ns);
Q{1,1}=diag([0.4593,0.4593]); Q{1,2}=Q{1,1};
P=cell(1,Ns);
P{1,1}=diag([1,3]); P{1,2}=P{1,1};  % 成本函数中的矩阵

K=cell(1,Ns);
K{1,1}=[1,-2]; K{1,2}=K{1,1};  % 反馈控制的增益矩阵
N=4;  % 预测的时间尺度

A_comm=[0 1;1 0];  % 两个子系统互为邻居

x10=[-0.5;-1];
x20=[1.25;0.75];  % 初始状态
x_hat10=[-0.25;-0.75];
x_hat20=[0.6;0.6];



















